<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class='container'>
        <div class="title">ROCK - PAPER - SCISSORS</div>
        <div class="text">Choose your weapon:</div>
        <div class='choices'>
            <button class='button' id='1'><img id='11' src="./images/rock.jpg" width="75px"></button>
            <button class='button' id='2'><img id='22' src="./images/paper.jpg" width="75px"></button>
            <button class='button' id='3'><img id='33' src="./images/scissors.jpg" width="75px"></button>
        </div>
        <div class="text">Computer:</div>
        <div><img id="compChoiceImage" src='./images/loop.gif' width="75px"></div>

        <div class="result" id="result"></div>
        
        <div id="totalScore">
            <div class="row">
                <div class="text-score">YOUR SCORE:</div>
                <div class="text-score" id="playerScore">0</div>
            </div>
            <div class="row">
                <div class="text-score">COMPUTER SCORE:</div>
                <div class="text-score" id="compScore">0</div>
            </div>
        </div>
    </div>
    <script>
    const buttons = document.querySelectorAll('button');
    buttons.forEach((button) => {
        button.addEventListener('click', () => 
        playRound(button.id-1))
    })
    
    playerChoice = String;
    playerScore = 0;
    compWins = 0;
    playerWins =0;

        function game(){
            compWins = 0;
            playerWins = 0;
            for (var i = 0; i < 5; i++) {
                playRound();
            }
            console.log("You won "+playerWins+" games. Computer won "+compWins+" games.")
            if (playerWins > compWins) {
                console.log("You win!")
            } else if (compWins > playerWins) {
                console.log("You lose!")
            } else {
                console.log("Draw!")
            }
        }

        function comp_choice(){
            return Math.floor(Math.random() * 3);
        }

        function playRound(id){
            let resultText = '';
            playerScore = id;
            if (playerScore == 0) {
                playerChoice = "Rock";
                document.getElementById('22').style.width='75px'
                document.getElementById('33').style.width='75px'
                document.getElementById('11').style.width='105px';
            }
            else if (playerScore == 1) {
                playerChoice = "Paper";
                document.getElementById('11').style.width='75px';
                document.getElementById('33').style.width='75px';
                document.getElementById('22').style.width='105px';
            }
            else {playerChoice = "Scissors";
                document.getElementById('22').style.width='75px';
                document.getElementById('11').style.width='75px';
                document.getElementById('33').style.width='105px';
            }
            
            compScore = comp_choice();
            if (compScore == 0) {
                compChoice = "Rock";
                document.getElementById('compChoiceImage').src='./images/rock.jpg';
                document.getElementById('compChoiceImage').style.width='105px';
            } else if (compScore == 1) {
                compChoice = "Paper";
                document.getElementById('compChoiceImage').src='./images/paper.jpg';
                document.getElementById('compChoiceImage').style.width='105px';
            } else {
                compChoice = "Scissors";
                document.getElementById('compChoiceImage').src='./images/scissors.jpg';
                document.getElementById('compChoiceImage').style.width='105px';
            }



            if (playerScore == compScore) {
                resultText = "Draw!"
            } else if (playerScore > compScore && playerScore-compScore==1) {
                resultText = ("You win! "+playerChoice+" beats "+compChoice)
                playerWins += 1;
                document.body.style.backgroundColor = "lightgreen";
            } else if (playerScore > compScore && playerScore-compScore==2) {
                resultText = ("You lose! "+compChoice+" beats "+playerChoice)
                compWins += 1;
                document.body.style.backgroundColor = "red";
            } else if (compScore - playerScore==1) {
                resultText = ("You lose! "+compChoice+" beats "+playerChoice)
                compWins += 1;
                document.body.style.backgroundColor = "red";
            } else {
                resultText = ("You win! "+playerChoice+" beats "+compChoice)
                playerWins += 1;
                document.body.style.backgroundColor = "lightgreen";
            }
            document.getElementById('result').textContent = resultText;
            document.getElementById('playerScore').textContent = playerWins;
            document.getElementById('compScore').textContent = compWins;
            setTimeout (function() {

                document.getElementById('compChoiceImage').src='./images/loop.gif';
                document.getElementById('compChoiceImage').style.width='75px';
                document.getElementById('result').textContent='';
                document.getElementById('33').style.width='75px';
                document.getElementById('22').style.width='75px';
                document.getElementById('11').style.width='75px';
                document.body.style.backgroundColor = 'rgb(229, 229, 229)';

            }, 1444);
        }
    </script>
</body>
</html>